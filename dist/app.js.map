{"version":3,"file":"app.js","mappings":"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","names":["timeOnPage","incrementTimer","$","document","ready","textFields","querySelectorAll","i","textField","_","mdc","MDCTextField","buttons","button","ripple","MDCRipple","attachTo","submit","event","formData","email","val","emailConf","firstName","lastName","password","passwordConf","ajax","type","url","data","dataType","encode","done","console","log","success","output","x","errors","alert","window","location","replace","preventDefault","setInterval","on","e","pathname","substr","lastIndexOf","sessionData","Date","now","navigator","sendBeacon","JSON","stringify"],"sources":["../view/scripts/app.js"],"sourcesContent":["var timeOnPage = 0;\r\n\r\nfunction incrementTimer(){\r\n   timeOnPage++;\r\n}\r\n\r\n\r\n\r\n$(document).ready(function (){\r\n   var textFields = document.querySelectorAll('.mdc-text-field');\r\n   for (var i = 0, textField; textField = textFields[i]; i++) {\r\n      var _ = new mdc.textField.MDCTextField(textField);\r\n   }\r\n   var buttons = document.querySelectorAll('.mdc-button, .mdc-fab');\r\n   for (var i = 0, button; button = buttons[i]; i++) {\r\n      mdc.ripple.MDCRipple.attachTo(button);\r\n   }\r\n\r\n   $(\"#regForm\").submit(function (event) {\r\n      var formData = {\r\n         email: $(\"#email\").val(),\r\n         emailConf: $(\"#emailConf\").val(),\r\n         firstName: $(\"#firstName\").val(),\r\n         lastName: $(\"#lastName\").val(),\r\n         password: $(\"#password\").val(),\r\n         passwordConf: $(\"#passwordConf\").val(),\r\n      };\r\n\r\n      $.ajax({\r\n         type: \"POST\",\r\n         url: \"../model/regUser.php\",\r\n         data: formData,\r\n         dataType: \"json\",\r\n         encode: true,\r\n      }).done(function (data) {\r\n         console.log(data);\r\n         if (!data.success) {\r\n            var output = \"\";\r\n            for (let x in data.errors){\r\n               output += data.errors[x] + \"\\n\";\r\n            }\r\n            alert(output);\r\n         } else {\r\n            window.location.replace(\"login.php\")\r\n         }\r\n      });\r\n      event.preventDefault();\r\n   });\r\n\r\n   $(\"#loginForm\").submit(function (event) {\r\n      var formData = {\r\n         email: $(\"#email\").val(),\r\n         password: $(\"#password\").val()\r\n      };\r\n\r\n      $.ajax({\r\n         type: \"POST\",\r\n         url: \"../model/login.php\",\r\n         data: formData,\r\n         dataType: \"json\",\r\n         encode: true,\r\n      }).done(function (data) {\r\n         console.log(data);\r\n         if (!data.success) {\r\n            var output = \"\";\r\n            for (let x in data.errors){\r\n               output += data.errors[x] + \"\\n\";\r\n            }\r\n            alert(output);\r\n         } else {\r\n            window.location.replace(\"home.php\")\r\n         }\r\n      });\r\n\r\n      event.preventDefault();\r\n   });\r\n   setInterval(incrementTimer, 1000);\r\n});\r\n\r\n$(window).on( \"unload\", function(e){\r\n   if(document.location.pathname.substr(document.location.pathname.lastIndexOf('/') + 1) == \"game.php\"){\r\n      var sessionData = {\r\n         \"userID\" : $(\"#gamePage\").data(\"currentuser\"),\r\n         \"sessionDate\" : Date.now(),\r\n         \"itemViewingID\" : $(\"#gamePage\").data(\"gameid\"),\r\n         \"timeOnPage\" : timeOnPage,\r\n         \"message\" : \"\"\r\n      }\r\n      navigator.sendBeacon(\"../../model/receiveTracking.php\", JSON.stringify(sessionData));\r\n   }\r\n});\r\n\r\n$(document).ready(function (){\r\n   switch (document.location.pathname.substr(document.location.pathname.lastIndexOf('/') + 1)){\r\n      case \"login.php\":\r\n         console.log(\"On login page\");\r\n         break;\r\n      case \"register.php\":\r\n         console.log(\"On register page\");\r\n         break;\r\n      case \"home.php\":\r\n         console.log(\"On home page\");\r\n         break;\r\n      case \"game.php\":\r\n         console.log(\"On a games page\");\r\n         break;\r\n      default:\r\n         console.log(\"Can't discern which page is currently loaded\");\r\n         break;\r\n   }\r\n});"]}